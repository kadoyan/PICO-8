pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function _init()
	sprset1={
		{1,2,7,8,3,4,9,10,1,2,7,8,3,4,9,10,0,13,14,0,0,18,19,0},
		{1,2,7,8,5,20,11,12,1,2,7,8,5,20,11,12,0,13,14,0,0,18,19,0},
		{1,2,13,14,6,20,16,17,1,2,13,14,6,20,16,17,0,13,14,0,0,18,19,0},
		{1,2,7,8,5,20,11,12,1,2,7,8,5,20,11,12,0,13,14,0,0,18,19,0},
	}
	sprset2={
		{7,8,9,10},
		{7,8,11,12},
		{13,14,16,17},
		{7,8,11,12},
	}
	player={
		current=1,
		step=5
	}
	count=0
	x,y,flh,flv=0,0,false,false
end

function _update60()
	count+=1
	local set,pl=sprset1,player
	if btn(0) then flh=true x-=1 end
	if btn(1) then flh=false x+=1 end
	if btn(2) then flv=false y-=1 end
	if btn(3) then flv=true y+=1 end
	if count%pl.step==0 then
		if pl.current%#set==0 then pl.current=0 end
		pl.current+=1
	end
end

function _draw()
	cls(3)
	exspr(sprset1,player.current,4,x,y,flh,flv)
end

function exspr(tbl,i,w,x,y,h,v)
	local t,sx,sy=tbl[i],1,0
	for n=1,#t do
		local sx,sy=(n-1)%w,ceil(n/w)-1
		if h then sx=w-(n-1)%w-1 end
		if v then sy=#t/w-ceil(n/w) end
		spr(t[n],x+sx*8,y+sy*8,1,1,h,v)
	end
end
__gfx__
0000000000000000000000000011ddd1166666100011ddd1001d11d1000000000000000000111111111110000011111111111000000000000000000000000000
0000000000000001111111000011111177777611001111170011dd110000011111100000001111677aaa10000011111777aa6000000000000000000000000000
00000000000000dd11111110006111677777700000611677996111670001dd111111000000161177777771000011111177777000000000111111000000000000
0000000000000d111661761000066667777700000996666709966667001d1117617610000016167777777100001161111777700000001dd11111100000000000
000000000000011177117110000996666660000099900666000066660011117711711000001617777777710001111667777770000001d1117617610000000000
000000000011111177d17d100099900000000000000000090000009900111177d17d100001111177777710000111111777999a00000111177117110000000000
0000000001111111119999a00099000000000000000000000000009900111119999a100000111111111110001111111111999900000111177d17d10000000000
00000000111d111199999999000000000000000000000000000000990011199999999a000000099999000000009999a000000000000111119999a10000000000
00111199999999a0101111119999999a166666110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0116111111111110111d111111111111777776000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
116111677aaaa1110111ddd16666aa10777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00111777777777000111111777777600777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00111117777777000011117777777600666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
011199a1777777000991117777776000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00199991111110009999166666660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000009999a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
